<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>

<body>
	<script type="module">
		import {
			natives, nodes, showIf,
			on, ref, pathSetter,
			getNodes, animate, css, custom
		} from "./src/jquire.min.js"

		const {
			div, input, button,
			form, dialog, img,
			main, nav, a, br, hr, ul, li,
			footer, template, span
		} = natives

		const { HelloWorld } = custom

		const { attr, text, fragment } = nodes

		const assets = pathSetter("../assets/")
		let navLinks = [
			{ name: "works", link: "#" },
			{ name: "skills", link: "#" },
			{ name: "hire me", link: "#" },
			{ name: "contact me", link: "#" },
			{ name: "support", link: "#" },
			{ name: "contributions", link: "#" },
			{ name: "education", link: "#" },
		]

		const navLinksRef = ref({ navLinks })

		const originalNavLinks = [...navLinks]
		const handleInput = (evt) => {
			navLinksRef.navLinks = originalNavLinks.filter(x =>
				x.name.toLowerCase().includes(evt.target.value.trim().toLowerCase()))
		}

		const btnRef = ref({ clicked: false })
		const handleClick = evt => {
			btnRef.clicked = !btnRef.clicked
		}

		const app = div(
			HelloWorld("Hello World!"),
			input(
				on.input(handleInput),
			),
			button(
				on.click(handleClick),
				"click me!"
			),
			div(
				btnRef,
				() => showIf(btnRef.clicked) && span("visible"),
			),
			ul(
				navLinksRef,
				({ navLinks }) => navLinks.map(x =>
					li(
						x.name
					)
				)
			)
		)

		/* 
		const data = ['a', 'b', 'c', 'd']
		const dataRef = ref({ data })
		div(
			({ data } = refs(dataRef)) => null,
			(condition = when(x == y)) => null,
			(event = on("click")) => null,
			([item, idx] = each(data)) => null,
			(event = mount()) => null,
			(event = unmount()) => null,
			(event = update()) => null,
		)
		*/

		app.attachTo(document.body)
	</script>
</body>

</html>